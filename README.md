# OItrainer

# OI 教练模拟器

## 最近更新

### 新功能：对点招生与学前培养（2025-10-12）

**功能说明：**
在开始界面新增了两个特殊功能，允许玩家在游戏开始前投入额外资金来招募和培养特殊学生。

**💰 对点招生（¥50,000 / 人）**
- 可以自定义学生姓名
- 学生属性根据当前选择的省份和难度随机生成
- 招生费用从初始经费中扣除
- 可以招募多名学生（经费足够）

**📚 学前培养（¥30,000 / 次）**
- 只能对已通过"对点招生"招募的学生进行培养
- 两种培养方式：
  1. 随机属性提升 50%（思维/编程/心理随机一项）
  2. 选择天赋（为学生添加指定天赋）
- 培养费用从初始经费中扣除
- 同一学生可以进行多次培养

**详细说明：**
查看 [RECRUIT_TRAIN_GUIDE.md](./RECRUIT_TRAIN_GUIDE.md) 了解完整使用指南和策略建议。

---

### BUG修复：比赛周触发事件后按钮点击不刷新（2025-10-12）

**问题描述：**
- 在比赛周触发选择类事件（如"友校交流邀请"、"商业活动"等）后，点击"接受"或"拒绝"按钮时，游戏界面不会正确刷新
- 原因：比赛周会设置 `game.suppressEventModalOnce` 标志来抑制事件弹窗，但选项按钮点击后没有清除此标志，导致 `renderAll()` 被抑制

**修复内容：**
- 在 `script.js` 的事件选项按钮点击处理器中，添加了清除 `suppressEventModalOnce` 标志的代码
- 确保在点击选项按钮后，游戏界面能够正确刷新

**测试方法：**
1. 命令行测试（推荐）：
   ```powershell
   node test.js
   ```
   
2. 浏览器控制台测试：
   - 在游戏页面打开浏览器控制台（F12）
   - 引入测试脚本：在HTML中添加 `<script src="test.js"></script>`
   - 在控制台运行：`testCompetitionWeekEventChoice()`

**测试覆盖：**
- ✓ 模拟比赛周状态（week = 15）
- ✓ 推送选择事件到事件卡片
- ✓ 设置 `suppressEventModalOnce` 标志
- ✓ 模拟点击事件选项按钮
- ✓ 验证标志被正确清除
- ✓ 验证游戏状态正确更新
- ✓ 验证界面刷新函数被调用

---

# OI 教练模拟器

不会一点html js css，只有idea，面向GPT编程